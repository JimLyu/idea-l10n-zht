<html>
<body>
Reports loops, <code>forEach</code>-like methods, and <code>ContainerUtil.process()</code> with missing cancellation checks.
<p>僅在具有 <code>com.intellij.util.concurrency.annotations.RequiresReadLock</code> 註解的方法內執行。</p>
<p><b>範例：</b></p>
<pre><code lang="kotlin">
@RequiresReadLock
fun doSomething() {
  ...
  for (item in items) {
    ProgressManager.checkCanceled() // should be present in the first line
    ...
  }

  items.forEach {
    ProgressManager.checkCanceled() // should be present in the first line
    ...
  }
  ...
}
</code></pre>

<p>In the case of nested loops with nothing in between:</p>
<pre><code lang="kotlin">
@RequiresReadLock
fun doSomething() {
  ...
  for (item in items) {
    // nothing in between
    for (inner in item.inners) {
      ProgressManager.checkCanceled() // should be present in the first line of the inner loop only
      ...
    }
  }
  ...
}
</code></pre>
<p>
    在阻塞上下文中應使用 <code>com.intellij.openapi.progress.ProgressManager#checkCanceled</code>，而在掛起上下文中應使用 <code>com.intellij.openapi.progress.CoroutinesKt#checkCancelled</code>。
</p>
<p>
    請參閱 IntelliJ 平台延伸模組 SDK 文檔中的<a href="https://plugins.jetbrains.com/docs/intellij/general-threading-rules.html#background-processes-and-processcanceledexception">背景程序和 ProcessCanceledException</a>，了解更多詳細資訊。
</p>
</body>
<p><small>2023.1 最新變化</small>
</html>
